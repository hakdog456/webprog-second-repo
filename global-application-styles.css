@font-face {
    font-family: 'Chakra Petch';
    font-style: normal;
    font-weight: 400;
    font-display: swap;
    /* use the woff2 hosted on Google's CDN so don't have to store files locally */
    src: local('Chakra Petch'), local('ChakraPetch-Regular'),
        url('https://fonts.gstatic.com/s/chakrapetch/v13/cIf6MapbsEk7TDLdtEz1BwkWn6pgar3I1A.woff2') format('woff2');
}

@font-face {
    font-family: 'Slackey';
    font-style: normal;
    font-weight: 400;
    font-display: swap;
    /* use the woff2 hosted on Google's CDN so don't have to store files locally */
    src: local('Slackey'), local('Slackey-Regular'),
        url('https://fonts.gstatic.com/s/slackey/v29/N0bV2SdQO-5yM0-dGlNQJA.woff2') format('woff2');
}


* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    --container-w: 743.17px;
    --img-max: 100px;
}


body {
    font-family: 'Chakra Petch', monospace;
    background-image: url('fabric_background.png');
    background-size: cover;
    /* background-attachment: ; */
    min-height: 100vh;
    color: #4a3728;
    /* Smooth, responsive vertical padding across breakpoints.
        Uses clamp so the padding decreases gradually instead of jumping
        when media queries activate. */
    padding: clamp(28px, 6.5vw, 120px) 0 clamp(16px, 4.5vw, 80px) 0;
}

        .pet-image {
            width: 217.67px !important;
            height: 183px !important;
            max-width: 217.67px !important;
            max-height: 183px !important;
            min-width: 217.67px !important;
            min-height: 183px !important;
            flex-shrink: 0 !important;
            overflow: hidden !important;
            position: relative !important;
        }

        .pet-image img {
            width: 217.67px !important;
            height: 183px !important;
            max-width: 217.67px !important;
            max-height: 183px !important;
            object-fit: fill !important;
            position: absolute !important;
            top: 0 !important;
            left: 0 !important;
        }


.container {
    max-width: 1500px;
    max-height: 2311px;
    margin: 0 auto;
    padding: 0 40px;
}

.pet-header {
    display: flex;
    gap: 25px;
    margin-bottom: 25px;
    align-items: flex-start;
}

.pet-image {
    width: 217.67px;
    height: 183px;
    border-radius: 45px;
    object-fit: cover;
    border: 2.5px solid #3d2f1f;
    background: #888;
}

.pet-info {
    flex: 0 0 auto;
    width: 122px;
    height: 124px;
}

.pet-info h2 {
    font-size: 23px;
    margin-bottom: 0;
    font-weight: semibold;
    color: #3d2f1f;
}

.pet-info p {
    font-size: 24px;
    color: #5a4a3a;
    line-height: 1.4;
}

.header-section {
    display: flex;

    align-items: flex-start;
    gap: 40px;

    margin: 0 auto 20px;
    width: min(1221.17px, 100%);
    height: min(190px, 100%);
    max-width: 1221.17px;
    max-height: 190px;
    /* base padding uses clamp so spacing transitions smoothly across breakpoints */
    padding: 0 clamp(10px, 4vw, 20px);
}

.progress-tracker {
    display: flex;

    position: relative;

    --pc-size: 100px;

    width: min(743.17px, 100%);

    height: min(176px, calc(var(--pc-size) + 76px));


    justify-content: flex-end;
    margin-left: auto;
    padding-right: 0;

    gap: 0;
    align-items: flex-start;

}


.progress-item {
    position: relative;
    width: var(--pc-size);
    flex-shrink: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.progress-item .progress-icon {
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: var(--pc-size);
    height: var(--pc-size);
    object-fit: contain;
    pointer-events: none;
    z-index: 3;
    /* on top */
}


/* make the blend circle without affecting children */
.progress-item.active::before {
    content: "";
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: var(--pc-size);
    height: var(--pc-size);
    border-radius: 50%;
    background: rgba(68, 78, 39, 0.5);
    mix-blend-mode: overlay;
    pointer-events: none;
    z-index: 1;
    /* behind icon */
}

.progress-step {
    display: flex;
    flex-direction: column;
    align-items: center;
    flex: 0 1 var(--pc-size);
    min-width: 0;
    width: var(--pc-size);
    height: var(--pc-size);
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    text-align: center;
    position: relative;
    z-index: 2;
}

/* center connectors between circles */
.progress-connector {


    flex: 1 2 min(109px, max(6px, calc((100% - (4 * var(--pc-size))) / 3)));
    display: flex;
    align-items: center;
    justify-content: center;

    width: min(109px, max(6px, calc((100% - (4 * var(--pc-size))) / 3)));
    height: var(--pc-size);
    min-width: 6px;
    z-index: -1;
    overflow: hidden;
}





.progress-meta {
    position: absolute;
    top: calc(var(--pc-size) + 6px);
    left: 50%;
    transform: translateX(-50%);
    width: var(--pc-size);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 4px;
    box-sizing: border-box;
    text-align: center;
    z-index: 2;
}


.progress-step>* {
    margin-left: auto;
    margin-right: auto;
}

.progress-circle {
    width: var(--pc-size);
    height: var(--pc-size);
    border-radius: 50%;
    z-index: 2;
    /* between halo + icon */
}



@media (max-width: 900px) {

    /* Slightly smaller progress circle, fluid between 52px and 80px */
    /* Apply tablet-specific sizing and the same responsive layout tweaks
        we used for mobile so the progress stack and pet image align.
        We keep connectors and all progress items visible on tablet. */
    .header-section {
        /* compute shared sizing variables here so siblings can reference them */
        --mobile-pet-w: clamp(140px, 18vw, 217.67px);
        /* original pet image aspect ratio (width / height) ~= 217.67 / 183 = 1.189 */
        --pet-img-h: calc(var(--mobile-pet-w) / 1.189);
        /* scale for the progress circle relative to the pet image height.
            Change this value to increase/decrease the circle+icon on tablet. */
        --pc-scale: 0.7;
        /* reduce header gap a bit on tablet and vertically center items */
        gap: clamp(12px, 3.5vw, 28px);
        align-items: center;
        width: min(95%, 1221.17px);
        /* enable absolutely-positioned status-message inside header */
        position: relative;
    }

    .progress-tracker {
        /* size the progress circle from the computed pet image height */
        --pc-size: calc(var(--pet-img-h) * var(--pc-scale, 0.9));
        /* ensure the tracker matches the pet image height so circle+meta fill it */
        height: var(--pet-img-h);
        align-items: center;
        justify-content: center;
        gap: 0;
        margin-top: -20px;
    }

    /* Keep the icon/halo anchored to the top of each step (like desktop)
        so the connector (which vertically centers its line inside its box)
        lines up with the circular icon's center. Avoid translating on Y. */
    .progress-item .progress-icon {
        top: 0 !important;
        left: 50% !important;
        transform: translateX(-50%) !important;
    }

    .progress-item.active::before {
        top: 0 !important;
        left: 50% !important;
        transform: translateX(-50%) !important;
    }

    /* Ensure the step container keeps its original sizing behavior; don't
        vertically center the absolute-positioned icon (that would shift it).
        Keep children horizontally centered as before. */
    .progress-step {
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
        justify-content: flex-start !important;
    }

    /* Make the pet header gap match mobile's responsive spacing */
    .pet-header {
        gap: clamp(8px, 4vw, 14px);
        align-items: center;
    }

    /* Reduce the vertical gap between the circle and its meta responsively
        (keeps label/date closer to the circle on tablet like mobile) */
    .progress-step {
        /* tighten the internal spacing a bit */
        gap: clamp(2px, 0.9vw, 4px);
    }

    .progress-meta {
        /* smaller margin and tighter internal gap so label sits closer to circle */
        margin-top: clamp(2px, 0vw, 6px) !important;
        gap: clamp(2px, 0.6vw, 4px) !important;
        /* keep centering and fill behavior from earlier rules */
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
        justify-content: center !important;
        /* ensure children don't overlap â€” allow them to size naturally */
        box-sizing: border-box !important;
    }

    /* prevent the label/date min-height from forcing overlap on tablet */
    .progress-meta>.progress-label,
    .progress-meta>.progress-date {
        min-height: 0 !important;
        flex: 0 0 auto !important;
    }


    /* Fluid base font-size for tablet; padding is handled globally to remain smooth */
    body {
        font-size: clamp(15px, 1.6vw, 16px);
    }

    /* Make pet image scale while maintaining aspect ratio */
    .pet-image {
        /* use the same computed width variable so progress sizing can reference it */
        width: var(--mobile-pet-w);
        /* set an explicit height computed from the same width and known aspect ratio */
        height: var(--pet-img-h);
        border-radius: clamp(20px, 6vw, 45px);
        overflow: hidden;
    }

    /* ensure the actual img fills the container and keeps aspect ratio */
    .pet-image img {
        width: 100%;
        height: 100%;
        display: block;
        object-fit: cover;
    }

    .pet-info {
        width: clamp(100px, 14vw, 122px);
        height: auto;
        padding-left: 0;
    }

    .pet-info h2 {
        font-size: clamp(18px, 2.1vw, 23px);
    }

    .pet-info p {
        font-size: clamp(16px, 2.2vw, 24px);
    }

    /* header-section tweaks moved above so tablet uses the same sizing
        variables as mobile and keeps image/tracker aligned */

    .progress-column {
        gap: clamp(6px, 1.8vw, 8px);
    }

    /* match mobile stacking/alignment to avoid overflow on tablet */
    .progress-step {
        gap: clamp(4px, 1.1vw, 6px);
    }

    /* Keep the meta positioned absolutely beneath each circle so it doesn't
        increase the .progress-item height (which would break connector alignment).
        Use a small responsive offset for the top gap so the label sits just below. */
    .progress-meta {
        position: absolute !important;
        /* reduce the vertical offset so meta sits closer to the circle */
        top: calc(var(--pc-size) + clamp(2px, 0.8vw, 6px)) !important;
        left: 50% !important;
        transform: translateX(-50%) !important;
        width: var(--pc-size) !important;
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
        justify-content: flex-start !important;
        gap: clamp(2px, 0.6vw, 4px) !important;
        box-sizing: border-box;
        text-align: center;
        z-index: 2;
    }

    /* ensure labels/dates don't force overflow in constrained meta height
        and make the date small enough to avoid wrapping on tablet */
    .progress-meta>.progress-label {
        min-height: 0 !important;
        flex: 0 0 auto !important;
    }

    .progress-meta>.progress-date {
        min-height: 0 !important;
        flex: 0 0 auto !important;
        /* Reduce size responsively so common date strings won't wrap on tablet */
        font-size: clamp(10px, 0.9vw, 12px) !important;
        white-space: nowrap !important;
        overflow: visible !important;
        text-overflow: clip !important;
    }

    /* place the status message bottom-right of the header on tablet
        and scale its font-size smoothly with a slow clamp so it doesn't jump */
    .status-message {
        display: none;
    }
}

@media (max-width: 500px) {

    /* Smaller progress circle for tight viewports */
    .progress-tracker {
        /* size the progress circle from the shared pet image height computed
                on the .header-section ancestor */
        --pc-size: calc(var(--pet-img-h) * 0.9);
        /* ensure the tracker itself matches the pet image height so the stacked
                circle + meta exactly fills the same vertical space */
        height: var(--pet-img-h);
        align-items: center;
    }

    /* Mobile font-size only; padding handled globally so it transitions smoothly */
    body {
        font-size: clamp(13px, 3.2vw, 15px);
    }

    /* Image and info shrink reasonably while keeping aspect ratio */
    .pet-image {
        /* use the same computed width variable so progress sizing can reference it */
        width: var(--mobile-pet-w);
        /* set an explicit height computed from the same width and known aspect ratio */
        height: var(--pet-img-h);
        border-radius: clamp(12px, 6vw, 30px);
        /* make sure the container clips and doesn't allow the inner img to overflow */
        overflow: hidden;
        /* preserve the internal image aspect behavior */
    }

    /* ensure the img inside the container scales correctly and keeps aspect ratio */
    .pet-image img {
        width: 100%;
        height: auto;
        display: block;
        object-fit: cover;
        margin-left: 0px;
    }

    .pet-info {
        width: clamp(80px, 22vw, 110px);
        padding-left: 0px;

    }

    .pet-info h2 {
        font-size: clamp(16px, 4vw, 20px);
    }

    .pet-info p {
        font-size: clamp(12px, 3.6vw, 18px);
    }

    /* Reduce the space between the pet image and info responsively
        without using negative margins. The .pet-header gap is reduced
        with a clamp so it scales across small devices. Align items
        center so image and info are vertically aligned. */
    .pet-header {
        gap: clamp(8px, 0vw, 14px);
        align-items: center;
    }

    /* Mobile: hide connectors and all progress items except the active one */
    .progress-connector {
        display: none !important;
    }

    /* Hide all items by default on mobile, then show the active one. */
    .progress-item {
        display: none !important;
    }

    /* Show the active progress item so users see the current step */
    .progress-item.current {
        display: flex !important;
        flex-direction: column;
        align-items: center;
        /* allow the active item to be wider than the progress circle so meta can expand */
        width: auto !important;
        max-width: min(95vw, 420px) !important;
        padding: 0 clamp(6px, 4vw, 12px) !important;
    }

    /* Center the tracker and remove large gaps */
    .progress-tracker {
        justify-content: center;
        gap: 0;
        margin-top: 0px;

    }

    /* Make the meta label/date sit nicely under the circle.
        Switch to normal flow (not absolutely positioned) so the meta can
        use the available width of the containing .progress-item without forcing wraps. */
    .progress-meta {
        /* Reset absolute positioning and transforms from desktop rules so the meta
            sits correctly under the circle on small screens. */
        position: static !important;
        left: auto !important;
        top: auto !important;
        transform: none !important;
        /* let the meta size itself to its content but cap to the item's width */
        width: auto !important;
        max-width: 100% !important;
        box-sizing: border-box !important;
        /* make the meta fill the remaining height under the circle so the
                    combined height equals the pet image height */
        height: calc(var(--pet-img-h) - var(--pc-size)) !important;
        margin-top: 14px !important;
        /* bring the meta closer to the circle on small screens and tighten label/date spacing */
        gap: clamp(2px, 0.0vw, 3px) !important;
        text-align: center !important;
        /* center the meta within the progress-item column */
        align-self: center !important;
        /* use flex so the label/date are centered reliably and can wrap naturally */
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
        justify-content: center !important;
        box-sizing: border-box !important;
        padding-top: 0px;
    }

    /* Mobile: prevent label/date forcing overlap */
    .progress-meta>.progress-label,
    .progress-meta>.progress-date {
        min-height: 0 !important;
        flex: 0 0 auto !important;
    }

    /* Adjust status message for mobile */
    .status-message {
        display: none !important;
    }

    .progress-label {
        /* override global width-based rule (appears later in the file) */
        width: auto !important;
        max-width: 100% !important;
        font-size: clamp(10px, 3vw, 14px) !important;
        min-height: auto;
        white-space: normal !important;
        overflow-wrap: anywhere !important;
        text-align: center !important;
        display: block !important;
    }

    .progress-date {
        width: auto !important;
        max-width: 100% !important;
        font-size: clamp(10px, 2.6vw, 12px) !important;
        text-align: center !important;
    }

    .header-section {
        /* reduce horizontal gap between the left (pet-header) and right (progress-column)
            while remaining responsive and preventing overlap; the clamp ensures it scales */
        gap: clamp(6px, 0.2vw, 12px);
        /* compute shared sizing variables here so siblings can reference them */
        --mobile-pet-w: clamp(90px, 26vw, 140px);
        /* original pet image aspect ratio (width / height) ~= 217.67 / 183 = 1.189 */
        --pet-img-h: calc(var(--mobile-pet-w) / 1.189);
        /* align the image and progress tracker vertically centered */
        align-items: center;
    }

    .progress-column {
        align-items: center;
    }
}

.progress-step.active {
    content: '';
    position: absolute;
    background: rgba(68, 78, 39, 0.5);
    mix-blend-mode: overlay;
    border-radius: 50%;

}

.progress-step.active .progress-circle {
    position: relative;
    z-index: 2;
}

.progress-column {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    align-self: flex-start;
    justify-content: flex-start;
    margin-top: 0;
    padding-top: 0;
    width: 100%;
    gap: 8px;
    flex: 1 1 auto;
    ;
}

.progress-label {
    font-size: clamp(10px, 16px, 16px);
    text-align: center;
    line-height: 1.2;
    color: #4a3728;
    margin-top: 2px;
    display: block;
    box-sizing: border-box;
    min-height: 38.4px;
}


.progress-label,
.progress-date {

    width: var(--pc-size);
    box-sizing: border-box;
    min-height: 1.2em;
    white-space: normal;
    overflow-wrap: anywhere;
    word-break: break-word;
    text-align: center;
}

.progress-date {
    color: #6b5d4f;
    min-height: 16px;
    text-align: center;
    font-size: clamp(10px, 12px, 14px);

}

.status-message {
    text-align: right;
    font-style: italic;
    color: #725134;
    margin: -20px 0 0 0;
    font-size: 24px;
}