<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="global-application-styles.css">
    <link rel="stylesheet" href="globalFooterNav.css">
    <script defer src="load-pet-header.js"></script>
    <script defer src="global.js" ></script>
    <script defer src="user-stage-router.js"></script>
        <script defer src="load-pet-header.js"></script>

    <title>Meet and Greet - Bark Twain</title>
    <style>

        body{
            display: flex;
            align-items: center;
            flex-direction: column;
            position: relative;
            padding-bottom: 500px;
        }
        
        .details-container {
            position: relative; /* stacking context for pseudo-element */
            overflow: hidden; /* clip the pseudo-element to rounded corners */
            background: transparent; /* actual color drawn by ::before */
            border: 1px solid rgba(0, 0, 0, 0.354);
            padding: 15px 15px 35px 50px;
            border-radius: 50px;
            position: relative;
            width: min(1262px, 100%);
            margin: 0 auto;
            max-height: 1262px;
            max-width: 1262px;
            height: min(1262px, 100%);
        }

        .details-container::before {
            content: "";
            position: absolute;
            inset: 0; /* fill the container */
            background: rgba(68, 78, 39, 0.5); /* original container color */
            mix-blend-mode: overlay; /* blend with page background */
            z-index: 0;
            pointer-events: none;
            border-radius: inherit;
        }

        .section-title {
            text-align: center;
            font-size: 24px;
            margin-bottom: 35px;
            color: #6b4423;
            font-weight: 400;
            letter-spacing: 0.5px;;
            font-family: "Slackey";
        }

        .detail-row {
            display: grid;
            grid-template-columns: minmax(0, 100px) minmax(0, 524px);
            column-gap: 20px; 
            margin-bottom: -2px; 
            font-size: 24px;
            color: #3d2f1f;
            line-height: 1.6;
            align-items: start;
        }

        .detail-label {
            
            display: block; 
        }

        .detail-value {
            font-weight: 600;
            display: block; 
            word-break: break-word; 
        }

        @media (max-width: 700px) {
            .detail-row {
                grid-template-columns: 1fr; 
            }
            .detail-value { margin-top: 4px; }
        }
    </style>
</head>
<body>
    <div class="nav">
        <!-- Burger menu button for mobile -->
        <div class="burgerMenuCon" >
            <div class="burgerMenuBtn" >
                <div></div>
                <div></div>
                <div></div>
            </div>
        </div>

        <div class="navLogo">
            <img src="images/homeImages/Jurassic Bark.webp" alt="">
        </div>
        <div class="mainNav">
            <p><a href="index.html">Home</a></p>
            <p> <a href="aboutUs.html">About Us</a></p>
            <p> <a href="ourAnimals.html">Our Animals</a></p>
            <p><a href="contact.html">Contact Us</a></p>
            <p><a href="faqs.html">FAQs</a></p>
        </div>
        <div class="navControls">
            <!-- Search SVG -->
            <svg class="searchIcon" width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M18.3333 31.6667C25.6971 31.6667 31.6667 25.6971 31.6667 18.3333C31.6667 10.9695 25.6971 5 18.3333 5C10.9695 5 5 10.9695 5 18.3333C5 25.6971 10.9695 31.6667 18.3333 31.6667Z" stroke="#223125" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M35 35L27.75 27.75" stroke="#223125" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>

            <!-- User Svg -->
            <a href="user-profile.html">
                <svg class="userIcon" width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M33.3337 35V31.6667C33.3337 29.8986 32.6313 28.2029 31.381 26.9526C30.1308 25.7024 28.4351 25 26.667 25H13.3337C11.5655 25 9.86986 25.7024 8.61961 26.9526C7.36937 28.2029 6.66699 29.8986 6.66699 31.6667V35" stroke="#223125" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M19.9997 18.3333C23.6816 18.3333 26.6663 15.3486 26.6663 11.6667C26.6663 7.98477 23.6816 5 19.9997 5C16.3178 5 13.333 7.98477 13.333 11.6667C13.333 15.3486 16.3178 18.3333 19.9997 18.3333Z" stroke="#223125" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </a>

        </div>
    </div>

    <div class="navMobileSlide">
        <div class="navItem">
            <a href="index.html"><p>HOME</p></a>
        </div>
        
        <div class="navItem">
            <a href="aboutUs.html"><p>ABOUT US</p></a>
        </div>

        <div class="navItem">
            <a href="ourAnimals.html"><p>OUR ANIMALS</p></a>
        </div>

        <div class="navItem">
            <a href="contact.html"><p>CONTACT US</p></a>
        </div>

        <div class="navItem">
            <a href="faqs.html"><p>FAQs</p></a>
        </div>

    </div>
    
    <div class="container">
        <!-- Space for header, pet info, and progress tracker -->
        
        <div class="header-section">
            <div class="pet-header">
                <div class="pet-image">
                </div>
                <div class="pet-info">

                </div>
            </div>
            <div class="progress-column">
                <div class="progress-tracker">

                    <div class="progress-item active">
                        <div class="progress-step">
                            <div class="progress-circle"></div>
                        </div>

                        <img src="svgs/application_placed.svg" class="progress-icon" alt="Application Placed">

                        <div class="progress-meta">
                            <div class="progress-label">Application Placed</div>
                            <div class="progress-date">October 20, 2025</div>
                        </div>
                    </div>

                    <div class="progress-connector">
                        <svg width="100%" height="2" viewBox="0 0 100 2" preserveAspectRatio="none" aria-hidden="true"
                            focusable="false">
                            <line x1="0" x2="100" y1="1" y2="1" stroke="#3d2f1f" stroke-width="1" stroke-linecap="round" />
                        </svg>
                    </div>


                    <div class="progress-item active current">
                        <div class="progress-step">
                            <div class="progress-circle"></div>
                        </div>

                        <img src="svgs/meet_and_greet.svg" class="progress-icon" alt="Meet and Greet">

                        <div class="progress-meta">
                            <div class="progress-label">Meet and Greet</div>
                            <div class="progress-date"></div>
                        </div>
                    </div>

                    <div class="progress-connector">
                        <svg width="100%" height="2" viewBox="0 0 100 2" preserveAspectRatio="none" aria-hidden="true"
                            focusable="false">
                            <line x1="0" x2="100" y1="1" y2="1" stroke="#3d2f1f" stroke-width="1" stroke-linecap="round" />
                        </svg>
                    </div>

                    <div class="progress-item">
                        <div class="progress-step">
                            <div class="progress-circle"></div>
                        </div>

                        <img src="svgs/ready_for_adoption.svg" class="progress-icon" alt="Decision Made">

                        <div class="progress-meta">
                            <div class="progress-label">Ready for Adoption</div>
                            <div class="progress-date"></div>
                        </div>
                    </div>

                    <div class="progress-connector">
                        <svg width="100%" height="2" viewBox="0 0 100 2" preserveAspectRatio="none" aria-hidden="true"
                            focusable="false">
                            <line x1="0" x2="100" y1="1" y2="1" stroke="#3d2f1f" stroke-width="1" stroke-linecap="round" />
                        </svg>
                    </div>

                    <div class="progress-item">
                        <div class="progress-step">
                            <div class="progress-circle"></div>
                        </div>

                        <img src="svgs/adopted.svg" class="progress-icon" alt="Adoption Finalized">

                        <div class="progress-meta">
                            <div class="progress-label">Adopted</div>
                            <div class="progress-date"></div>
                        </div>
                    </div>

                </div>
                <div class="status-message">Your meet and greet with Bark Twain has been set!
            </div>
            </div>
        </div>


        <div class="details-container">
            <h3 class="section-title">Meet and Greet Details</h3>
            
            <div class="detail-row">
                <span class="detail-label">Date:</span>
                <span class="detail-value" id="mg-date">Loading…</span>
            </div>
            
            <div class="detail-row">
                <span class="detail-label">Time:</span>
                <span class="detail-value" id="mg-time">Loading…</span>
            </div>
            
            <div class="detail-row">
                <span class="detail-label">Location:</span>
                <span class="detail-value" id="mg-location">Loading…</span>
            </div>
        </div>

        <script>
        (() => {
            const dateEl = document.getElementById('mg-date');
            const timeEl = document.getElementById('mg-time');
            const locationEl = document.getElementById('mg-location');
            const fallbackText = 'To be decided by admin';

            const fillFields = (tx) => {
                if (!tx) return;
                let meet = tx.meetGreetDateTime || '';
                let location = tx.location || '';

                // If evaluation has meet and greet info, prefer it when fields are empty.
                const evalData = typeof tx.evaluation === 'string'
                    ? JSON.parse(tx.evaluation || '{}')
                    : (tx.evaluationDecoded || tx.evaluation || {});
                if (!meet && evalData && evalData.meetAndGreet && evalData.meetAndGreet.date) {
                    meet = evalData.meetAndGreet.date;
                }
                if (!location && evalData && evalData.meetAndGreet && evalData.meetAndGreet.location) {
                    location = evalData.meetAndGreet.location;
                }

                let dateText = fallbackText;
                let timeText = fallbackText;
                if (meet) {
                    const [d, t] = meet.split(' ');
                    dateText = d || fallbackText;
                    if (t) {
                        const [hh, mm] = t.split(':');
                        timeText = (hh && mm) ? `${hh}:${mm}` : t;
                    }
                }

                dateEl.textContent = dateText;
                timeEl.textContent = timeText;
                locationEl.textContent = location || fallbackText;
            };

            const loadMeetGreet = async () => {
                try {
                    const status = encodeURIComponent('Meet and Greet Scheduled');
                    const res = await fetch(`ensure-transaction-by-status.php?status=${status}`);
                    const text = await res.text();
                    const data = text ? JSON.parse(text) : null;
                    if (!data || !data.success || !data.transaction) {
                        console.warn('No meet and greet transaction found');
                        dateEl.textContent = fallbackText;
                        timeEl.textContent = fallbackText;
                        locationEl.textContent = fallbackText;
                        return;
                    }
                    fillFields(data.transaction);
                } catch (err) {
                    console.error('Failed to load meet and greet details', err);
                    dateEl.textContent = fallbackText;
                    timeEl.textContent = fallbackText;
                    locationEl.textContent = fallbackText;
                }
            };

            loadMeetGreet();
        })();
        </script>

            </div>

        <div style="position:fixed; bottom:20px; right:20px; display:flex; gap:2px; align-items:center; z-index:9999;">
        <a href="admin-review.html" aria-label="Page 1" style="width:24px; height:24px; display:inline-flex; align-items:center; justify-content:center; border-radius:50%; text-decoration:none; color:#fff; background:#6e6e6e; font-weight:600; font-size:14px; box-shadow:0 4px 10px rgba(0,0,0,0.12);">1</a>
        <a href="meet-and-greet-sechdule.html" aria-label="Page 2" style="width:24px; height:24px; display:inline-flex; align-items:center; justify-content:center; border-radius:50%; text-decoration:none; color:#fff; background:#6e6e6e; font-weight:600; font-size:14px; box-shadow:0 4px 10px rgba(0,0,0,0.12);">2</a>
        <a href="meet-and-greet-evaluation.html" aria-label="Page 3" style="width:24px; height:24px; display:inline-flex; align-items:center; justify-content:center; border-radius:50%; text-decoration:none; color:#fff; background:#6e6e6e; font-weight:600; font-size:14px; box-shadow:0 4px 10px rgba(0,0,0,0.12);">3</a>
        <a href="admin-ready-for-adoption.html" aria-label="Page 4" style="width:24px; height:24px; display:inline-flex; align-items:center; justify-content:center; border-radius:50%; text-decoration:none; color:#fff; background:#6e6e6e; font-weight:600; font-size:14px; box-shadow:0 4px 10px rgba(0,0,0,0.12);">4</a>
        <a href="admin-ready-for-adoption-confirmation.html" aria-label="Page 5" style="width:24px; height:24px; display:inline-flex; align-items:center; justify-content:center; border-radius:50%; text-decoration:none; color:#fff; background:#6e6e6e; font-weight:600; font-size:14px; box-shadow:0 4px 10px rgba(0,0,0,0.12);">5</a>

    </div>
    <div style="position:fixed; bottom:40px; right:20px; display:flex; gap:2px; align-items:center; z-index:9999;">
        <a href="user-application-page.html" aria-label="Page 1" style="width:24px; height:24px; display:inline-flex; align-items:center; justify-content:center; border-radius:50%; text-decoration:none; color:#fff; background:#6e6e6e; font-weight:600; font-size:14px; box-shadow:0 4px 10px rgba(0,0,0,0.12);">1</a>
        <a href="meet-greet-page.html" aria-label="Page 2" style="width:24px; height:24px; display:inline-flex; align-items:center; justify-content:center; border-radius:50%; text-decoration:none; color:#fff; background:#6e6e6e; font-weight:600; font-size:14px; box-shadow:0 4px 10px rgba(0,0,0,0.12);">2</a>
        <a href="payment-page.html" aria-label="Page 3" style="width:24px; height:24px; display:inline-flex; align-items:center; justify-content:center; border-radius:50%; text-decoration:none; color:#fff; background:#6e6e6e; font-weight:600; font-size:14px; box-shadow:0 4px 10px rgba(0,0,0,0.12);">3</a>
        <a href="user-adopted.html" aria-label="Page 4" style="width:24px; height:24px; display:inline-flex; align-items:center; justify-content:center; border-radius:50%; text-decoration:none; color:#fff; background:#6e6e6e; font-weight:600; font-size:14px; box-shadow:0 4px 10px rgba(0,0,0,0.12);">4</a>
    </div>

         <div class="HomeFooter">
        <div class="footerBg" ></div>
        <div class="foot1" >
            <div class="footerLogoIcons" >
                <img class="footLogo" src="images/homeImages/Jurassic Bark.svg" alt="">
                <div class="smallIconsCon">
                    <img class="smallIcons" src="images/homeImages/facebook.svg" alt="">
                    <img class="smallIcons" src="images/homeImages/instagram.svg" alt="">
                    <img class="smallIcons" src="images/homeImages/tiktok.svg" alt="">            </div>
                </div>
            <div class="foot1Text" >
                © 2025 Jurassic Bark. All Rights Reserved.
                <br>
                Registered Nonstock, Nonprofit Organization — SEC Registration No. CN2025-XXXXXX
                <br>   
                Accredited under the Animal Welfare Act of 1998 (Republic Act No. 8485, as amended by RA 10631).
            </div>

        </div>

        <!-- bottom foot1 text for mobile -->
        <div class="bottomFoot1Text" >
            © 2025 Jurassic Bark. All Rights Reserved.
            <br>
            Registered Nonstock, Nonprofit Organization — SEC Registration No. CN2025-XXXXXX
            <br>   
            Accredited under the Animal Welfare Act of 1998 (Republic Act No. 8485, as amended by RA 10631).
        </div>
            
        <div class="foot2" >
            Home
            <br>
            About Us
            <br>
            Our Animals
            <br>
            Contact Us
            <br>
            FAQs
        </div>
        <div class="foot3" >
            Privacy Policy
            <br>
            Terms of Service
            <br>
            Adoption Policy
            <br>
            Licensing or nonprofit 
            <br>
            registration info
        </div>
        <div class="foot4" >
            Tarlac State University - San Isidro Campus, 
            <br>
            Brgy. San Isidro, Tarlac City, 2300 Tarlac
            <br>
            +63 912 345 6789
            <br>
            jurassicbark@gmail.com
            <br>
            MON to SAT, 10 AM - 6 PM
            <br>
            No Noon Time Break
        </div>
     </div>

    

        <!-- Space for footer -->
    </div>
</body>
</html>